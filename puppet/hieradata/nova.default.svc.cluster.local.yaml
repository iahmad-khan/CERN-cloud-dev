iaas_release: 'mitaka'
openstack_release: 'mitaka'

landb_username: 'neutron'
landb_keystone: 'https://keystone.default.svc.cluster.local:443/main/v3'

neutron_auth_plugin: 'v2password'
neutron_cafile: '/var/lib/puppet/ssl/certs/ca.pem'
neutron_auth_url: 'https://keystone.default.svc.cluster.local:443/admin/v2.0'

#nova::base
nova::glance_api_servers: 'glance.default.svc.cluster.local:9292'
nova::rabbit_userid: 'rabbit'
nova::verbose: 'true'
nova::enabled_ssl_apis: []
nova::service_down_time: 120
nova::rabbit_hosts:
  - 'mq1'

# nova::api
haproxy_enable: false
haproxy_nova_api_enable: false
firewall_nova_api_enable: true
firewall_nova_metadata_enable: true
firewall_nova_novnc_enable: true

nova_config_default_availability_zone: '-'

nova::api::admin_password: 'nova_api_admin_password'
nova::api::auth_uri: 'https://keystone.default.svc.cluster.local:443/main'
nova::api::identity_uri: 'https://keystone.default.svc.cluster.local:443/admin'
nova::api::auth_version: 'v3'
nova::api::admin_user: nova
nova::api::use_forwarded_for: true
nova::api::sync_db: false
nova::api::keystone_ec2_url: 'https://keystone.default.svc.cluster.local:443/main/v2.0/ec2tokens'
nova::api::ec2_workers: 1
nova::api::metadata_workers: 1
nova::api::osapi_compute_workers: 1
nova::api::enabled_apis: 'osapi_compute'

nova_api_ca_file: '/var/lib/puppet/ssl/certs/ca.pem'

overwrite_nova_policy: true

nova_conductor_workers: 1
nova_vncproxy_host: "0.0.0.0"

# nova_network
nova_network_network_manager: 'nova.network.manager.CernManager'
nova_network_create_networks: false
nova_network_enabled: false

#nova::neutron
nova_neutron_enabled: true

nova::network::neutron::neutron_admin_username: 'neutron'
nova::network::neutron::neutron_admin_password: 'neutron_admin_password'
nova::network::neutron::neutron_admin_tenant_name: 'services'
nova::network::neutron::neutron_admin_auth_url: 'https://keystone.default.svc.cluster.local:443/admin/v2.0'
nova::network::neutron::neutron_url: 'http://neutron.default.svc.cluster.local:9696'
nova::network::neutron::neutron_region_name: false
nova::network::neutron::neutron_ca_certificates_file: '/var/lib/puppet/ssl/certs/ca.pem'
nova::network::neutron::vif_plugging_is_fatal: false
nova::network::neutron::vif_plugging_timeout: 0

#neutron
neutron::enabled: true
neutron::verbose: true
neutron::debug: false
neutron::core_plugin: 'ml2'
neutron::service_plugins:
  - cern
neutron::rabbit_user: 'rabbit'
neutron::rabbit_password: 'neutron_rabbit_password'
neutron::rabbit_hosts:
  - 'mq1'
neutron::metadata_host: 'nova'
neutron::metadata_port: '8775'

neutron::agents::ml2::linuxbridge::physical_interface_mappings:
  - "external:eth0"

#neutron
neutron_admin_username: 'neutron'
neutron_admin_tenant_name: 'services'
neutron_use_ssl: false
neutron_use_syslog: false

neutron_rabbit_virtual_host: '/'
neutron_qpid_hostname: "%{neutron_rabbit_host}"
neutron_qpid_port: "%{neutron_rabbit_port}"
neutron_qpid_username: "%{neutron_rabbit_port}"
neutron_service_plugins:
  - 'cern'
neutron_ml2_type_drivers:
  - 'flat'
neutron_ml2_tenant_network_types:
  - 'flat'
neutron_ml2_mechanism_drivers:
  - 'linuxbridge'
  - 'cern_landb'
neutron_linuxbridge_phys_mapping:
  - "external:%{::network_primary_interface}"
neutron_metadata_host: 'nova.default.svc.cluster.local'
neutron_metadata_port: '8775'

pluginsync_filter:
  - neutron
iaas_stable_repo_includepkgs: []
