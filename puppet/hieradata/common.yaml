ceph_repo_release: 'hammer'
roger_server: puppet
flume_agent_enable: false
teigi_ssl_port: 8082
tellme_enabled: false
iaas_release: 'juno'
iaas_qa_repo_enable: 1
iaas_testing_repo_enable: 1
osrepos_ai_testing_enable: 1
osrepos_ai_qa_enable: 1
operator_access_enable: false
iaas_include_pkgs:
  - python-pyws
  - openstack-keystone
  - python-keystone
  - python-keystoneclient
  - python-pysaml2
  - python-neutron
  - python-neutronclient
  - openstack-neutron
  - openstack-neutron-ml2
openstack_rdo_include_pkgs:
  - python-oslo*
  - python-sqlalchemy
  - python-routes
  - python-paste-deploy
  - python-six
  - python-pycadf
  - python-webob
  - python-migrate
  - python-novaclient
  - python-cinderclient
  - python-glanceclient
  - python-keystoneclient
  - python-openstackclient
  - python-neutronclient
  - python-requests
  - python-urllib3
  - python-cliff
  - python-cmd2
  - pyparsing
  - python-babel
  - python-alembic
  - python-keystonemiddleware
  - python-ldappool
  - openstack-utils
  - python-stevedore
  - python-netaddr

# cloud_compute

# nova::base
nova_debug: True
nova_verbose: True
nova_config_use_local: true
nova_enabled_ssl_apis: []
nova_glance_api_servers: 'glance.default.kubdomain.local:9292'
nova_manage_selinux: False
landb_username: 'neutron'
rabbit_host: 'controller'

# nova::conductor
nova_conductor_monitoring: false

# nova::api
haproxy_enable: false
haproxy_nova_api_enable: false
firewall_nova_api_enable: true
firewall_nova_metadata_enable: true

nova_api_port: 8774
nova_api_admin_port: 443
nova_api_admin_user: 'nova'
nova_api_admin_tenant_name: 'services'
nova_api_admin_prefix: '/admin'
nova_api_auth_strategy: keystone
nova_api_auth_host: 'keystone.default.kubdomain.local'
nova_api_auth_protocol: 'https'
nova_api_auth_admin_prefix: '/admin'
nova_api_auth_uri: 'https://keystone.default.kubdomain.local:443/'
nova_api_ca_file: '/var/lib/puppet/ssl/certs/ca.pem'
nova_api_enabled_apis: 'osapi_compute,metadata'
nova_api_keystone_ec2_url: 'https://keystone.default.kubdomain.local:443/v2.0/ec2tokens'
nova_api_metadata_workers: 0
nova_api_sync_db: false
overwrite_nova_policy: true
nova_static_conf: "[DEFAULT]\nglance_api_servers=glance.default.kubdomain.local:9292\n"
nova_conductor_workers: 1

# nova::compute
libvirtd_logs: false
nova_compute_libvirt_virt_type: 'qemu'
nova_compute_monitoring: false
nova_compute_ksm: false
nova_compute_reserved_host_memory: 0
nova_neutron_enabled: false
nova_metadata_host: 'localhost' # FIXME
nova_compute_disable_snoop: false
nova_compute_bridgeconfig: false
nova_compute_bridgetables: false
nova_compute_netconntrack: false

# nova_network
nova_network_network_manager: 'nova.network.manager.CernManager'

# cloud_networking
neutron_verbose: true
neutron_debug: true
neutron_api_port: '9696'
neutron_database_idle_timeout: 3600
neutron_rabbit_user: 'guest'
neutron_rabbit_host: 'controller'
neutron_rabbit_port: '5672'
neutron_rabbit_hosts:
     - 'controller'
neutron_rabbit_virtual_host: '/'
neutron_qpid_hostname: "%{neutron_rabbit_host}"
neutron_qpid_port: "%{neutron_rabbit_port}"
neutron_qpid_username: "%{neutron_rabbit_port}"
neutron_use_ssl: false
neutron_use_syslog: false
neutron_log_facility: 'LOG_USER'
neutron_auth_cafile: '/var/lib/puppet/ssl/certs/ca.pem'
neutron_server_auth_user: 'neutron'
neutron_server_auth_tenant: 'services'
neutron_server_auth_uri: 'https://keystone.default.kubdomain.local:443/main'
neutron_server_identity_uri: 'https://keystone.default.kubdomain.local:443/admin'
neutron_server_landb_hostname: 'puppet'
neutron_server_landb_port: '8043'
neutron_server_landb_protocol: 'https'
neutron_server_landb_username: 'neutron'
neutron_service_plugins:
        - 'router'
        - 'cern'
neutron_ml2_type_drivers:
        - 'flat'
neutron_ml2_tenant_network_types:
        - 'flat'
neutron_ml2_mechanism_drivers:
        - 'linuxbridge'
        - 'cern_landb'

# cloud_blockstorage
cinder_api_port: '8776'
cinder_ceph_user: 'volumes'
cinder_ceph_mon_host: '172.17.42.1'
cinder_database_idle_timeout: 3600
cinder_rpc_backend: 'cinder.openstack.common.rpc.impl_kombu'
cinder_glance_host: 'glance.default.kubdomain.local'
cinder_control_exchange: 'cinder'
cinder_rabbit_host: ''
cinder_rabbit_port: '5672'
cinder_rabbit_hosts:
     - 'controller'
cinder_rabbit_virtual_host: '/'
cinder_rabbit_userid: 'guest'
cinder_qpid_hostname: 'controller'
cinder_qpid_port: 5672
cinder_qpid_username: 'guest'
cinder_qpid_password: false
cinder_qpid_reconnect: true
cinder_qpid_reconnect_timeout: 0
cinder_qpid_reconnect_limit: 0
cinder_qpid_reconnect_interval_min: 0
cinder_qpid_reconnect_interval_max: 0
cinder_qpid_reconnect_interval: 0
cinder_qpid_heartbeat: 60
cinder_qpid_protocol: 'tcp'
cinder_qpid_tcp_nodelay: true
cinder_package_ensure: 'present'
cinder_state_path: '/var/lib/cinder'
cinder_volume_tmp_dir: '$state_path/conversion/'
cinder_api_paste_config: '/etc/cinder/api-paste.ini'
cinder_use_syslog: false
cinder_log_facility: 'LOG_USER'
cinder_log_dir: '/var/log/cinder'
cinder_verbose: false
cinder_critical_iscsi01_volume_backend_name: 'NETAPP_CRITICAL'
cinder_critical_iscsi01_netapp_storage_family: 'ontap_cluster'
cinder_critical_iscsi01_netapp_vserver: 'vs2rac51'
cinder_critical_iscsi01_netapp_storage_protocol: 'iscsi'
cinder_critical_iscsi01_netapp_server_hostname: ''
cinder_critical_iscsi01_netapp_server_port: '443'
cinder_critical_iscsi01_netapp_size_multiplier: '1.0'
cinder_critical_iscsi01_netapp_transport_type: 'https'
cinder_critical_iscsi01_netapp_login: 'cinder'
cinder_debug: true

cinder_api_keystone_enabled: true
cinder_api_keystone_tenant: 'services'
cinder_api_keystone_user: 'cinder'
cinder_api_keystone_auth_host: 'keystone.default.kubdomain.local'
cinder_api_keystone_auth_port: '443'
cinder_api_keystone_auth_protocol: 'https'
cinder_api_keystone_auth_admin_prefix: '/admin'
cinder_api_keystone_auth_uri: false
cinder_api_service_port: '443'
cinder_api_package_ensure: 'present'
cinder_api_bind_host: '0.0.0.0'
cinder_api_enabled: true 
cinder_api_ratelimits: undef
cinder_api_ratelimits_factory: 'cinder.api.v1.limits:RateLimitingMiddleware.factory'
cinder_api_default_volume_type: 'standard'

cinder_scheduler_scheduler_driver: false
cinder_scheduler_package_ensure: 'present'
cinder_scheduler_enabled: true

cinder_volume_package_ensure: 'present'
cinder_volume_enabled: true

cinder_quota_gigabytes: 50
cinder_quota_volumes: 5
cinder_quota_snapshots: 5
cinder_volume_driver: 'cinder.volume.drivers.rbd.RBDDriver'
cinder_rbd_pool: 'volumes' 
cinder_rbd_user: 'volumes'
cinder_rbd_secret_uuid: '00000000-1111-1111-1111-000000000001'
cinder_scheduler_driver: 'cinder.scheduler.filter_scheduler.FilterScheduler'
cinder_scheduler_default_filters: 'CapabilitiesFilter'
cinder_scheduler_default_weighers: 'CapacityWeigher'
cinder_enabled_backends: 'standard,critical'
cinder_volume_usage_audit: true
cinder_volume_usage_audit_period: 'hour'
cinder_notification_driver: 'cinder.openstack.common.notifier.rpc_notifier'

cinder_standard_volume_driver: 'cinder.volume.drivers.rbd.RBDDriver'
cinder_standard_volume_group: 'standard'
cinder_standard_volume_backend_name: 'standard'
cinder_standard_rbd_pool: 'volumes'
cinder_standard_rbd_user: 'volumes'
cinder_standard_rbd_secret_uuid: '00000000-1111-1111-1111-000000000001'

cinder_critical_volume_driver: 'cinder.volume.drivers.rbd.RBDDriver'
cinder_critical_volume_backend_name: 'CEPH_CRITICAL'
cinder_critical_rbd_pool: 'cinder-critical'
cinder_critical_rbd_user: 'volumes'
cinder_critical_rbd_secret_uuid: '00000000-1111-1111-1111-000000000001'

overwrite_cinder_policy: true

iaas7_juno_include_pkgs:
    - openstack-cinder
    - python-cinder
    - python-cinderclient
rabbitmq7_include_pkgs:
    - rabbitmq-server
    - lemon-sensor-rabbitmq

# cloud_image
haproxy_enable: false
glance_api_auth_admin_prefix: '/admin'
glance_api_auth_host: 'keystone.default.kubdomain.local'
glance_api_auth_protocol: 'https'
glance_api_auth_type: 'keystone'
glance_api_auth_uri: false
glance_api_auth_url: false
glance_api_backlog: '4096'
glance_api_bind_port: 9292
glance_api_bind_host: '0.0.0.0'
glance_api_ca_file: '/var/lib/puppet/ssl/certs/ca.pem'
glance_api_cert_file: false
glance_api_key_file: false
glance_api_database_idle_timeout: '3600'
glance_api_debug: true
glance_api_enabled: true
glance_api_image_cache_dir: '/var/lib/glance/image-cache'
glance_api_image_size_cap: '132949672960'
glance_api_known_stores:
  - 'glance.store.http.Store'
  - 'glance.store.rbd.Store'
glance_api_log_facility: 'LOG_USER'
glance_api_log_file: '/var/log/glance/api.log'
glance_api_log_dir: '/var/log/glance'
glance_api_mysql_module: '0.9'
glance_api_pipeline: 'keystone'
glance_api_purge_config: false
glance_api_show_image_direct_url: false
glance_api_sql_connection: false
glance_api_sql_idle_timeout: '3600'
glance_api_registry_host: '0.0.0.0'
glance_api_registry_port: 9191
glance_api_use_syslog: false
glance_api_verbose: false
glance_keystone_auth_port: 443
glance_keystone_user: 'glance'
glance_keystone_tenant: 'services'
glance_registry_auth_admin_prefix: '/admin'
glance_registry_auth_host: 'keystone.default.kubdomain.local'
glance_registry_auth_protocol: 'https'
glance_registry_auth_type: 'keystone'
glance_registry_auth_uri: false
glance_registry_bind_host: '0.0.0.0'
glance_registry_bind_port: 9191
glance_registry_ca_file: '/var/lib/puppet/ssl/certs/ca.pem'
glance_registry_cert_file: false
glance_registry_key_file: false
glance_registry_database_idle_timeout: '3600'
glance_registry_debug: true
glance_registry_enabled: true
glance_registry_log_dir: '/var/log/glance'
glance_registry_log_facility: 'LOG_USER'
glance_registry_log_file: '/var/log/glance/registry.log'
glance_registry_mysql_module: '0.9'
glance_registry_pipeline: 'keystone'
glance_registry_purge_config: false
glance_registry_sql_connection: false
glance_registry_sql_idle_timeout: '3600'
glance_registry_use_syslog: false
glance_registry_verbose: true
glance_rbd_ceph_conf_file: "[global]\n    mon host = 172.17.42.1\n"
glance_rbd_keyring: true
glance_rbd_store_ceph_conf: '/etc/ceph/ceph.conf'
glance_rbd_store_chunk_size: '8'
glance_rbd_store_user: 'images'
glance_rbd_store_pool: 'images'
glance_storage_backend: 'rbd'
log_regex_common: '(\\d{4}-\\d{2}-\\d{2}\\s+\\d{2}:\\d{2}:\\d{2}.\\d{3})\\s*(\\d*)\\s*([A-Z]+)\\s*([^\\s]*)\\s'
log_regex_request: '\\[([\\w\\-]*)\\s+([\\w]*)\\s+([\\w\\-]*)'
log_regex_instance: '\\[instance:\\s+([\\w\\-]*)\\]'
log_regex_glance_api: '(\\d{1,3}\\.\\d{1,3}\\.\\d{1,3}\\.\\d{1,3}),(\\d{1,3}\\.\\d{1,3}\\.\\d{1,3}\\.\\d{1,3}).*"(\\w*)\\s+(.*)\\s+(.*)"\\s+(\\d*)\\s+(\\d*)\\s+([\\d\\.]*)'

# cloud_identity
keystone_auth_admin_enable: true
keystone_admin_endpoint: "https://%{::hostname}/admin"
keystone_apache_admin_path: '/admin'
keystone_apache_admin_port: 443
keystone_apache_public_path: '/main'
keystone_apache_public_port: 443
keystone_apache_servername: "%{::hostname}"
keystone_assignment_driver: 'keystone.assignment.backends.sql.Assignment'
keystone_bind_host: '0.0.0.0'
keystone_cache_backend: 'keystone.common.cache.noop'
keystone_cache_dir: '/var/cache/keystone'
keystone_cache_level: "hostgroup=\"cloud_identity/cache/main\""
keystone_cache_port: 11211
keystone_catalog_driver: 'keystone.contrib.endpoint_filter.backends.catalog_templated.EndpointFilterCatalog'
keystone_catalog_type: 'template'
keystone_control_exchange: false
keystone_debug: true
keystone_default_catalog:
- main:
  - identity:
    - name: 'keystone'
    - description: 'Openstack Identity Service'
    - publicURL : 'https://keystone.default.kubdomain.local:443/main/v2.0'
    - adminURL: 'https://keystone.default.kubdomain.local:443/admin/v2.0'
    - internalURL: 'https://keystone.default.kubdomain.local:443/main/v2.0'
  - image:
    - name: 'glance'
    - description: 'Openstack Image Service'
    - publicURL : 'http://glance.default.kubdomain.local:9292'
    - adminURL: 'http://glance.default.kubdomain.local:9292'
    - internalURL: 'http://glance.default.kubdomain.local:9292'
  - volume:
    - name: 'cinder'
    - description: 'Openstack Volume Service'
    - publicURL: 'http://cinder.default.kubdomain.local:8776/v1/%(tenant_id)s'
    - adminURL: 'http://cinder.default.kubdomain.local:8776/v1/%(tenant_id)s'
    - internalURL: 'http://cinder.default.kubdomain.local:8776/v1/%(tenant_id)s'
  - network:
    - name: 'neutron'
    - description: 'Openstack Networking Service'
    - publicURL: 'http://neutron.default.kubdomain.local:9696'
    - adminURL: 'http://neutron.default.kubdomain.local:9696'
    - internalURL: 'http://neutron.default.kubdomain.local:9696'
  - compute:
    - name: 'nova'
    - description: 'Openstack Nova Service'
    - publicURL: 'http://nova.default.kubdomain.local:8774/v2/%(tenant_id)s'
    - adminURL: 'http://nova.default.kubdomain.local:8774/v2/%(tenant_id)s'
    - internalURL: 'http://nova.default.kubdomain.local:8774/v2/%(tenant_id)s'

keystone_domains:
  - /etc/keystone/domains/keystone.heat.conf
keystone_enable_pki_setup: false
keystone_enable_ssl: true
keystone_enabled: false
keystone_enable_pki_setup: false
keystone_identity_driver: 'keystone.identity.backends.ldap.Identity'
keystone_idle_timeout: 200
keystone_krb_auth_realms: ''
keystone_krb_enable: false
keystone_krb_keytab: '/etc/httpd/http.keytab'
keystone_ldap_dumb_member: 'CN=admin,DC=default,DC=kubdomain,DC=local'
keystone_ldap_page_size: 1000
keystone_ldap_group_filter: '(objectclass=group)'
keystone_ldap_group_name_attribute: 'cn'
keystone_ldap_group_tree_dn: 'OU=e-groups,DC=default,DC=kubdomain,DC=local'
keystone_ldap_group_objectclass: 'group'
keystone_ldap_role_tree_dn: 'OU=roles,DC=default,DC=kubdomain,DC=local'
keystone_ldap_tenant_name_attribute: 'cn'
keystone_ldap_tenant_enabled_attribute: 'extensionName'
keystone_ldap_tenant_objectclass: 'groupOfNames'
keystone_ldap_tenant_tree_dn: 'OU=projects,DC=default,DC=kubdomain,DC=local'
keystone_ldap_tls_cacertdir: "%{keystone_ssl_ca_certs}"
keystone_ldap_tls_cacertfile: "%{keystone_ssl_cafile}"
keystone_ldap_tls_req_cert: 'never' 
keystone_ldap_url: 'ldap://controller'
keystone_ldap_use_tls: false
keystone_ldap_user_allow_create: 'False'
keystone_ldap_user_allow_delete: 'False'
keystone_ldap_user_allow_update: 'False'
keystone_ldap_user_attribute_ignore: 'password,tenant_id,tenants'
keystone_ldap_user_enabled_attribute: 'userAccountControl'
keystone_ldap_user_enabled_mask: 2
keystone_ldap_user_enabled_default: 512
keystone_ldap_user_filter: ''
keystone_ldap_user_mail_attribute: 'mail'
keystone_ldap_user_name_attribute: 'cn'
keystone_ldap_user_objectclass: 'person'
keystone_ldap_user_tree_dn: 'OU=users,DC=default,DC=kubdomain,DC=local'
keystone_ldap_suffix: 'DC=default,DC=kubdomain,DC=local'
keystone_log_dir: '/var/log/keystone'
keystone_log_facility: 'LOG_USER'
keystone_log_file: '/var/log/keystone/keystone.log'
keystone_notification_driver: 'rabbit'
keystone_notification_topics: false
keystone_package_ensure: present
keystone_public_endpoint: "https://%{::hostname}/main"
keystone_rabbit_host: '127.0.0.1'
keystone_rabbit_hosts: false
keystone_rabbit_userid: 'keystone'
keystone_revoke_driver: 'keystone.contrib.revoke.backends.sql.Revoke'
keystone_seltype_etc: 'etc_t'
keystone_seltype_lib: 'httpd_var_lib_t'
keystone_seltype_log: 'httpd_log_t'
keystone_shib_cache_enable: false
keystone_shib_enable: false
keystone_signing_ca_certs: "%{keystone_ssl_ca_certs}"
keystone_signing_ca_key: "%{keystone_ssl_ca_key}"
keystone_signing_cert_subject: "%{keystone_ssl_cert_subject}"
keystone_signing_certfile: "%{keystone_ssl_certfile}"
keystone_signing_keyfile: "%{keystone_ssl_keyfile}"
keystone_ssl_ca_certs: '/etc/keystone/ssl/certs'
keystone_ssl_ca_key: '/etc/keystone/ssl/key/cakey.pem'
keystone_ssl_cafile: '/etc/keystone/ssl/certs/ca.pem'
keystone_ssl_cert_subject: '/CN=keystone.default.kubdomain.local'
keystone_ssl_certfile: '/etc/keystone/ssl/certs/hostcert.pem'
keystone_ssl_chain: '/etc/keystone/ssl/certs/ca.pem'
keystone_ssl_keyfile: '/etc/keystone/ssl/keys/hostkey.pem'
keystone_token_driver: 'keystone.token.backends.sql.Token'
keystone_token_expiration: '86400'
keystone_token_format: false
keystone_token_provider: 'keystone.token.providers.uuid.Provider'
keystone_use_syslog: false
keystone_verbose: false
keystone_x509_enable: false
log_regex_keystone: '(\\d{4}-\\d{2}-\\d{2}\\s+\\d{2}:\\d{2}:\\d{2}.\\d{3})\\s*\\d*\\s*([A-Z]+)'
nova_compute_api_port: 8774

# cloud_adm
osclients_acron: false
osclients_default_rc: true

osclients_rdo_include_pkgs:
  - python-cinderclient
  - python-glanceclient
  - python-heatclient
  - python-keystoneclient
  - python-novaclient
  - python-openstackclient
  - python-ceilometerclient
  - pyparsing # overrides epel
  - python-backports
  - python-cliff # overrides epel
  - python-cmd2 # overrides epel
  - python-oslo-config
  - python-oslo-i18n
  - python-oslo-serialization
  - python-oslo-utils
  - python-six # overrides epel
  - python-webob # overrides epel

osclients_include_pkgs:
  - python-keystoneclient-kerberos
  - python-keystoneclient-x509
  - python-cornerstoneclient
  - python-neutronclient
  - python-kombu
  - python-urllib3
